\section{Sigma Algebras} 

  In here, we will develop a deeper formalism of set theory and topology, now that we have the tools of analysis. 

\subsection{Set-Theroetic Limits}

  Let's talk about sequences of sets $(A_n)_n$. 

  \begin{definition}[Monotone Sequence]
    A sequence of sets $(A_n)_n$ is called 
    \begin{enumerate}
      \item \textbf{(strictly) increasing} if $A_n \subsetneq A_{n+1}$. 
      \item \textbf{nondecreasing} if $A_n \subseteq A_{n+1}$. 
      \item \textbf{(strictly) decreasing} if $A_n \supsetneq A_{n+1}$. 
      \item \textbf{nonincreasing} if $A_n \supseteq A_{n+1}$. 
    \end{enumerate}
  \end{definition}

  \begin{definition}[Limsup and Liminf of Sets]
    Given a sequence of sets $(A_n)_n$, the \textbf{limsup} and \textbf{liminf} of them can be defined in the equivalent ways. 
    \begin{enumerate}
      \item The \textbf{liminf} is the set of points that are missing in only a finite number of sets, and the \textbf{limsup} is the set of points that are in an infinite number of sets. 
      \begin{align}
        \liminf_{n \to \infty} A_n & \coloneqq \bigcup_{n=1}^\infty \bigcap_{m=n}^\infty A_m \\
        \limsup_{n \to \infty} A_n & \coloneqq \bigcap_{n=1}^\infty \bigcup_{m=n}^\infty A_m 
      \end{align} 

      \item The \textbf{liminf} and \textbf{limsup} are the set of points $x$ where the liminf and limsup of the indicator function function evaluated at $x$ equals $1$. 
        \begin{align}
          \liminf_{n \to \infty} A_n & \coloneqq \{x \in X \mid \liminf_{n \to \infty} \mathbbm{1}_{A_n} (x) = 1 \} \\ 
          \limsup_{n \to \infty} A_n & \coloneqq \{x \in X \mid \limsup_{n \to \infty} \mathbbm{1}_{A_n} (x) = 1 \}
        \end{align}

    \end{enumerate}
    Both liminf and limsup always exist for any sequence of sets. 
  \end{definition} 
  \begin{proof}
    DeMorgan's law. 
  \end{proof}

  \begin{lemma}[Monotonicity]
    For any sequence of sets 
    \begin{equation}
      \liminf_{n \to \infty} A_n \subseteq \limsup_{n \to \infty} A_n 
    \end{equation}
  \end{lemma}

  \begin{lemma}[Complements]
    \begin{equation}
      \liminf_{n \to \infty} A_n = \bigg( \limsup_{n \to \infty} A_n^c  \bigg)^c
    \end{equation}
  \end{lemma}
  \begin{proof}
    
  \end{proof}

  \begin{definition}[Limit of Sets]
    
  \end{definition} 

\subsection{Borel Hierarchy}

  \begin{definition}[$F_\sigma$ Sets]
    A \textbf{$F_\sigma$-set} is a subset of a topological space that is a countable union of closed sets. 
  \end{definition}

  \begin{definition}[$G_\delta$ Sets]
    A \textbf{$G_\delta$-set} is a subset of a topological space  that is a countable intersection of open sets. 
  \end{definition}

  \begin{lemma}
    The complement of a $F_\sigma$ set is a $G_\delta$ set. 
  \end{lemma} 

\subsection{Sigma Algebra}

  Now, given any set $X$, we can construct its power set $2^X$. But we can't naively just give a measure to every $A \in 2^X$, since for certain spaces, this causes nasty contradictions shown through the Banach-Tarski Paradox.\footnote{Given any two bounded subsets $A$ and $B$ of $\mathbb{R}^n$ where $n \geq 3$, both of which have a nonempty interior, there are partitions of $A$ and $B$ into a finite number of disjoint subsets, $A = A_1 \cup \ldots \cup A_k$, $B = B_1 \cup \ldots \cup B_k$, such that $A_i$ and $B_i$ are congruent for every $i \in [k]$.} A nice set of subsets of $X$ to work with is the $\sigma$-algebra of $X$. 

  \begin{definition}[$\sigma$-Algebra]
    A \textbf{$\boldsymbol{\sigma}$-algebra} on a set $X$ is a collection  of subsets of $X$, denoted $\mathcal{A} \subset 2^X$ that contains $\emptyset$, $X$ itself, is stable under a countable union, and is stable under complementation. This pair $(X, \mathcal{A})$ is called a \textbf{measurable space}. 
  \end{definition}

  \begin{lemma}[Additional Property of $\sigma$-Algebras]
    A commonly known property of any $\sigma$-algebra $\mathcal{A}$ is that it is stable under countable intersections, too. 
    \begin{equation}
      A_1, A_2, \ldots, \in \mathcal{A} \implies \bigcap_{k=1}^\infty A_k \in \mathcal{A}
    \end{equation}
  \end{lemma}
  \begin{proof}
    We can utilize the fact that 
    \begin{equation}
      \bigcap_{k=1}^\infty A_k = X \setminus \bigcup_{k=1}^\infty A_k^c
    \end{equation}
  \end{proof}

  A $\sigma$-algebra is similar to the topology $\tau$ of topological space. Both $\mathcal{A}$ and $\tau$ require $\emptyset$ and $X$ to be in it. The three differences are that (i) $\tau$ does not allow compelmentation, (ii) $\tau$ allows any (even uncountable) union of sets (condition is strengthened), and (iii) $\tau$ allows only finite intersection of sets (condition is weakened). Now in order to construct $\sigma$-algebras, the following theorems are useful since they allow us to construct $\sigma$-algebras from other $\sigma$-algebras. It turns out that the intersection of $\sigma$-algebras is a $\sigma$-algebra, but not for unions. 

  \begin{theorem}[Intersection of Sigma Algebras is a Sigma Algebra]
    Let $\{\mathcal{A}_k\}$ be a family of $\sigma$-algebras of $X$. Then, $\cap \mathcal{A}_k$ is also a $\sigma$-algebra of $X$. 
  \end{theorem}
  \begin{proof}
    Clearly, $\emptyset, X$ is in $\cap \mathcal{A}_k$. To prove complementation, 
    \begin{equation}
      A \in \bigcap \mathcal{A}_k \implies A \in \mathcal{A}_k \; \forall k \implies A^c \in A_k \; \forall k \implies A^c \in \bigcap \mathcal{A}_k
    \end{equation}
    To prove countable union, let $\{A_j\}_{j \in J}$ be some countable family of subsets in $\cap \mathcal{A}_k$. Then, 
    \begin{equation}
      A_j \in \bigcap \mathcal{A}_k \; \forall j \in J \implies A_j \in \mathcal{A}_k \; \forall k \forall j \implies \bigcup A_j \in \mathcal{A}_k \; \forall k \implies \bigcup A_j \in \bigcap \mathcal{A}_k
    \end{equation}
  \end{proof}

  This allows us to easily prove the following theorem, which just establishes the existence of $\sigma$-algebras. 

  \begin{theorem}[Unique Smallest Sigma Algebra]
    Let $F \subset 2^X$. Then there exists a unique smallest $\sigma$-algebra $\sigma(F)$ containing $F$, called the $\sigma$-algebra \textbf{generated} by $F$. 
  \end{theorem}
  \begin{proof}
    Let us denote $\mathcal{M}$ as the set of all possible $\sigma$-algebras $\mathcal{B}$ of $X$. $\mathcal{M}$ is nonempty since it contains $2^X$. Then, the intersection 
    \begin{equation}
      \bigcap_{\mathcal{B} \in \mathcal{M}} \mathcal{B}
    \end{equation}
    is the unique smallest $\sigma$-algebra. 
  \end{proof} 

  With this guarantee, we can now define what it means for a set of subsets to \textit{generate} a $\sigma$-algebra. 

  \begin{definition}[$\sigma$-Algebra Generated by a Set]
    Given a collection of sets $\mathscr{C}$, the $\sigma$-algebra \textbf{generated} by $\mathscr{C}$ is the unique smallest $\sigma$-algebra containing $\mathscr{C}$, denoted $\sigma(\mathscr{C})$. 
  \end{definition} 

  This gives us a convenient way to construct $\sigma$-algebras. The general method is to identify a collection of ``important'' subsets that we would like to be included in the $\sigma$-algebra, and then just generate it.   

  \begin{definition}[Borel $\sigma$-algebra]
    The \textbf{Borel $\boldsymbol{\sigma}$-algebra} of a topological space $(X, \mathscr{T})$ is the $\sigma$-algebra generated by the topology $\mathscr{T}$, denoted $\mathcal{B}(X) \coloneqq \sigma(\mathscr{T})$. An element of the Borel algebra is called a \textbf{Borel set}. 
  \end{definition}

  Note that the Borel algebra contains: 
  \begin{enumerate}
    \item all open sets, 
    \item all closed sets due to closure under complements, 
    \item all $G_\delta$ sets due to closure under countable unions, 
    \item all $F_\sigma$ sets due to closure under countable intersection. 
  \end{enumerate}

  \begin{definition}[Measure Space]
    A \textbf{measure set} is a tuple $(X, \mathcal{A})$, where $X$ is an arbitrary space and $\mathcal{A}$ a $\sigma$-algebra. 
  \end{definition}
